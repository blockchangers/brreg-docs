
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Brønnøysundregistrenes Aksjeeierbok (beta) developer portal</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#what-is-a-cap-table" class="toc-h2 toc-link" data-title="What is a cap table">What is a cap table</a>
                  </li>
                  <li>
                    <a href="#functions-in-the-bronnoysund-register-39-s-shareholders-39-registry" class="toc-h2 toc-link" data-title="Functions in the Brønnøysund Register's Shareholders' Registry">Functions in the Brønnøysund Register's Shareholders' Registry</a>
                  </li>
                  <li>
                    <a href="#users" class="toc-h2 toc-link" data-title="Users">Users</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#installation" class="toc-h1 toc-link" data-title="Installation">Installation</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#example-application" class="toc-h2 toc-link" data-title="Example application">Example application</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#sdk" class="toc-h1 toc-link" data-title="SDK">SDK</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#end-user-interaction-and-authentication" class="toc-h2 toc-link" data-title="End user interaction and authentication">End user interaction and authentication</a>
                  </li>
                  <li>
                    <a href="#platform-wide-methods" class="toc-h2 toc-link" data-title="Platform wide methods">Platform wide methods</a>
                  </li>
                  <li>
                    <a href="#cap-table-management" class="toc-h2 toc-link" data-title="Cap table management">Cap table management</a>
                  </li>
                  <li>
                    <a href="#interacting-with-the-entity-registry" class="toc-h2 toc-link" data-title="Interacting with the Entity Registry">Interacting with the Entity Registry</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#extending-the-registry-with-smart-contrats" class="toc-h1 toc-link" data-title="Extending the registry with smart contrats">Extending the registry with smart contrats</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href="http://52.158.44.155:4000/" target="_blank">Block explorer</a></li>
            <li><a href="http://52.158.44.155:4000/graphiql" target="_blank">GraphiQL access</a></li>
            <li><a href="http://52.158.44.155:4000/api_docs" target="_blank">REST API</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Welcome to the Brønnøysund Register Center&#39;s cap table Developer Portal (beta).
Norwegian limited companies must have a share capital of at least NOK 30,000 distributed among one or more shares, all of which have the same nominal value in NOK. The size of the share capital, the number of shares and the nominal value are determined in the company&#39;s articles of association when the company is formed.
All limited companies shall have a cap table, unless the company&#39;s shares are registered in the public security register. The cap table shall contain an overview of who is shareholders at all times, and it will normally be decisive for who can exercise shareholder rights such as voting rights at the general meeting and the right to dividend. The cap table is public - so everyone has the right to see it.</p>
<h2 id='what-is-a-cap-table'>What is a cap table</h2>
<p>When a shareholder is entered in the shareholder&#39;s register the company shall notify the shareholder thereof. The share register shall be updated by change of ownership or pledging of shares in accordance with established rules in the Companies Act (§ 4-7).
Shares can be freely sold or given away without payment, unless otherwise stated by law, articles of association or agreement between the shareholders. For sale, the price is normally calculated on the basis of market value. Sales below market value can also occur, called a gift sale. In the same way as when shares are given away, this could trigger a tax liability.
When shareholders sell or otherwise realize shares, gains will be taxable and losses deductible.
The Companies Act contains rules on the consent of acquiring shares, and rules on pre-emption rights for the other shareholders. An agreement on the transfer of shares shall be reported to the board of the limited company by the person taking over the shares. The agreement should at a minimum contain who the agreement applies to, how many shares are transferred, and at what price.
Transfers made in the Brønnøysund Register&#39;s shareholder book have been reported immediately. The new shareholder must be notified by the company that he / she has been included in the shareholder&#39;s register and what is listed.</p>

<aside class = "success"> The company does not need to carry its own cap table. The solution automatically complies with the mtp stock law. dating, accessibility requirements and requirements for storage. </aside>

<aside class = "success">
The actual transfer of shares is not necessary to report to the cap table when using the Brønnøysund Register's Shareholder Book, as it is automatically reported.
</aside>
<h3 id='agreements-between-the-company-and-the-company-39-s-management-shareholders-or-related-parties'>Agreements between the company and the company&#39;s management, shareholders or related parties</h3>
<p>The company and the shareholders of the company can enter into agreements with each other, but there are then stricter requirements for the procedure. The starting point is that any agreement that has a value more than one tenth of the share capital, must be approved in the general assembly. From this point of view, some exceptions are listed in the Companies Act. The rules also apply to shareholders&#39; close associates, such as close relatives.</p>
<h3 id='shareholder-agreements'>Shareholder agreements</h3>
<p>Shareholder agreements are normally entered into between shareholders of a company, and regulates the relationship between them. The shareholders are not obliged to enter into such an agreement, but it may be useful. The shareholder agreement obliges the shareholders who sign the agreement. There are no requirements as to how the agreement should look or what it should contain. Examples of conditions that can be regulated in a shareholder agreement are special rules relating to ownership, demands for dividends, non-compete clauses, impartiality and requirements for work effort.</p>
<h3 id='conflict-between-shareholders'>Conflict between shareholders</h3>
<p>It is not uncommon for conflicts between shareholders to arise regarding the organization and running of a company. What the basis of the conflicts is difficult to say beforehand, but it may make sense to have a conscious relationship with this. It may make sense to
* Avoid being two owners who own 50% each of the shares, because this makes majority decisions difficult
* Enter into shareholder agreements that clarifies how the relationship between shareholders should be in the event of disagreement.
In cases where the shareholders no longer manage to cooperate with each other, the district court may, by lawsuit from a shareholder or from the company, decide on the redemption or release of a shareholder&#39;s shares. Such lawsuits must be regarded as last resort, and there must be weighty reasons.</p>
<h2 id='functions-in-the-bronnoysund-register-39-s-shareholders-39-registry'>Functions in the Brønnøysund Register&#39;s Shareholders&#39; Registry</h2>
<p>As a service provider, one can either use the share register SDK (Javascript) to make read / writes against cap tables, or one can extend the register of data and functionality by writing smart contracts in Solidity and uploading to the service block.</p>

<p>Feel free to give feedback by creating an Issue on Github.</p>
<h2 id='users'>Users</h2>
<p>A user is a shareholder and/or CEO and/or chairman of the board. A user is either active or passive.</p>

<p>An active user is authenticated and can write changed directly into the shareholder register, like transferring shares or changing their address.</p>

<p>A passive user is a shareholder who is not registered on the platform. The user cannot make changes in the shareholder register, and any transfers has to be input by the chairman of the board, on behalf of the shareholder.</p>

<aside class=“notice”>
All changes in the shareholder register has to be approved by the chairman of the board. In future versions, this approval can be granted automatically if the articles of association and shareholder agreements are automated (i.e. programmed as code).
</aside>
<h1 id='installation'>Installation</h1>
<p>To install the SDK to your project just use NPM:</p>

<p><code>npm i @brreg-sdk</code></p>
<h2 id='example-application'>Example application</h2>
<p>It can be hard getting started. We recommend you take a look at our example application to get a feel of the SDK.
<a href="https://github.com/blockchangers/brreg/tree/master/packages/forvalter" target="_blank">https://github.com/blockchangers/brreg/tree/master/packages/forvalter</a></p>
<h1 id='sdk'>SDK</h1><h2 id='end-user-interaction-and-authentication'>End user interaction and authentication</h2>
<p>As Brønnøysundregistrenes Aksjeeierbok (beta) is a service facilitated by leveraging blockchain technology, the flow of how end users interact with your service changes from the regular client-server way of interacting.</p>

<p>Instead of credentials authenticating the user and giving the user the correct access, end users are expected use a browser with blockchain wallet functionality. This functionality is available in</p>

<ul>
<li>Google Chrome and Microsoft Edge when installing the <a href="https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn">Metamask plugin</a></li>
<li>The Opera web browser</li>
</ul>
<h3 id='accessing-the-user-39-s-wallet'>Accessing the user&#39;s wallet</h3>
<blockquote>
<p>To access the user&#39;s wallet, use this code:</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">ethereum</span>
<span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nb">window</span><span class="p">.</span><span class="nx">ethereum</span> <span class="o">!==</span> <span class="s1">'undefined'</span> <span class="o">||</span> <span class="p">(</span><span class="k">typeof</span> <span class="nb">window</span><span class="p">.</span><span class="nx">web3</span> <span class="o">!==</span> <span class="s1">'undefined'</span><span class="p">))</span> <span class="p">{</span>
    <span class="nx">ethereum</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">ethereum</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Append the <code>ethereum</code> variable when writing to the blockchain, and the user will be asked to sign the transaction before it is sent</p>
</blockquote>

<p>The first line of code includes the SDK. This needs to be installed before you can use it. See &quot;Installation&quot;. </p>

<p>In a regular client-server architechture, the user&#39;s browser works as a thin client, where the business logic is running on the server. In an application utalizing blockchain the business logic is run in the user&#39;s browser and she connects directly to the backend/blockchain. For this to work you need to use her access keys for every write operation. </p>

<aside class="warning">
This code snippet is essential for using any of the following methods from the SDK.
</aside>
<h3 id='checking-that-the-user-has-a-wallet'>Checking that the user has a wallet</h3><pre class="highlight javascript tab-javascript"><code><span class="c1">// Check if found wallet. Stop of no</span>
<span class="kr">const</span> <span class="nx">foundEthereum</span> <span class="o">=</span> <span class="p">(</span><span class="nx">ethereum</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">foundEthereum</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>

<span class="c1">// Since we have metamask, we can now add listeners</span>
<span class="nx">ethereum</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'accountsChanged'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">accounts</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"accounts changed =&gt; "</span><span class="p">,</span> <span class="nx">accounts</span><span class="p">)</span>
<span class="p">})</span>
<span class="nx">ethereum</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'networkChanged'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">network</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"network changed =&gt; "</span><span class="p">,</span> <span class="nx">network</span><span class="p">)</span>
<span class="p">})</span>

<span class="c1">// Connect to the wallet</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">state</span><span class="p">.</span><span class="nx">accounts</span><span class="p">.</span><span class="nx">length</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">try</span> <span class="p">{</span>
      <span class="kr">const</span> <span class="nx">accounts</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">ethereum</span><span class="p">.</span><span class="nx">enable</span><span class="p">();</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">accounts</span><span class="p">);</span>
      <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// Handle error. Most likely the user rejected the login:</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Metamask reject connect error: "</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
      <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<p>When creating a good UX you want to guide the user. You will need a handful of methods to keep track of whether they have a wallet in their browser, whether they are connected to the right blockchain and so on. Use these functions to create that user experience.</p>
<h2 id='platform-wide-methods'>Platform wide methods</h2><h3 id='list-all-companies-on-the-platform'>List all companies on the platform</h3><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">RegistryOfCapTables</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"@brreg/sdk"</span><span class="p">).</span><span class="nx">RegistryOfCapTables</span>

<span class="kr">const</span> <span class="nx">RegistryOfCapTablesContract</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">RegistryOfCapTables</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">ethereum</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">list</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">RegistryOfCapTablesContract</span><span class="p">.</span><span class="nx">list</span><span class="p">();</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">list</span><span class="p">);</span>
</code></pre>
<p>Only already onboarded companies are on the platform. Use this code to list them all. Remember to getting the <code>ethereum</code> variable. Read more above titled &quot;Accessing the user&#39;s wallet&quot;</p>
<h2 id='cap-table-management'>Cap table management</h2><h3 id='include-sdk'>Include SDK</h3><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">StockFactory</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"@brreg/sdk"</span><span class="p">).</span><span class="nx">StockFactory</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">Stock</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"@brreg/sdk"</span><span class="p">).</span><span class="nx">Stock</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">RegistryOfCapTablesQue</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"@brreg/sdk"</span><span class="p">).</span><span class="nx">RegistryOfCapTablesQue</span><span class="p">;</span>
</code></pre><h3 id='createnew'>createNew</h3><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">stockFactory</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">StockFactory</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">ethereum</span><span class="p">);</span>
<span class="nx">stockFactory</span><span class="p">.</span><span class="nx">createNew</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">uuid</span><span class="p">);</span>
</code></pre>
<p>TODO</p>
<h3 id='captable'>capTable</h3><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">companyCapTable</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">Stock</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">ethereum</span><span class="p">,</span> <span class="nx">id</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">companyCapTable</span><span class="p">);</span>
</code></pre>
<p>Input the Norwegian organization number for the <code>id</code> and get the full cap table in return.</p>
<h3 id='getinfo'>getInfo</h3><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">capTable</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">Stock</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">ethereum</span><span class="p">,</span> <span class="nx">id</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">info</span> <span class="o">=</span> <span class="nx">capTable</span><span class="p">.</span><span class="nx">info</span><span class="p">();</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">info</span><span class="p">);</span>
</code></pre>
<p>Input the Norwegian organization number for the <code>id</code> and get the full cap table in return.</p>
<h3 id='getshareholders'>getShareholders</h3><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">capTable</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">Stock</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">ethereum</span><span class="p">,</span> <span class="nx">id</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">shareholders</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">capTable</span><span class="p">.</span><span class="nx">transactionsByShareHolder</span><span class="p">();</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">shareholders</span><span class="p">);</span>
</code></pre>
<p>Input the Norwegian organization number for the <code>id</code> and get the full cap table in return.</p>
<h2 id='interacting-with-the-entity-registry'>Interacting with the Entity Registry</h2><h3 id='include-sdk-2'>Include SDK</h3><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">EntityRegistry</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"@brreg/sdk"</span><span class="p">).</span><span class="nx">EntityRegistry</span>
</code></pre><h3 id='setcurrententity'>setCurrentEntity</h3><pre class="highlight javascript tab-javascript"><code><span class="k">try</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">dispatch</span><span class="p">(</span><span class="s1">'getEntityByAddress'</span><span class="p">,</span> <span class="p">{</span> <span class="nx">address</span> <span class="p">})</span>
    <span class="nx">commit</span><span class="p">(</span><span class="s1">'address'</span><span class="p">,</span> <span class="nx">data</span><span class="p">.</span><span class="nx">address</span><span class="p">)</span>
    <span class="nx">commit</span><span class="p">(</span><span class="s1">'uuid'</span><span class="p">,</span> <span class="nx">data</span><span class="p">.</span><span class="nx">uuid</span><span class="p">)</span>
    <span class="nx">commit</span><span class="p">(</span><span class="s1">'type'</span><span class="p">,</span> <span class="nx">data</span><span class="p">.</span><span class="nx">type</span><span class="p">)</span>
    <span class="nx">commit</span><span class="p">(</span><span class="s1">'name'</span><span class="p">,</span> <span class="nx">data</span><span class="p">.</span><span class="nx">name</span><span class="p">)</span>
    <span class="nx">commit</span><span class="p">(</span><span class="s1">'country'</span><span class="p">,</span> <span class="nx">data</span><span class="p">.</span><span class="nx">country</span><span class="p">)</span>
    <span class="nx">commit</span><span class="p">(</span><span class="s1">'city'</span><span class="p">,</span> <span class="nx">data</span><span class="p">.</span><span class="nx">city</span><span class="p">)</span>
    <span class="nx">commit</span><span class="p">(</span><span class="s1">'postalcode'</span><span class="p">,</span> <span class="nx">data</span><span class="p">.</span><span class="nx">postalcode</span><span class="p">)</span>
    <span class="nx">commit</span><span class="p">(</span><span class="s1">'streetAddress'</span><span class="p">,</span> <span class="nx">data</span><span class="p">.</span><span class="nx">streetAddress</span><span class="p">)</span>
    <span class="nx">commit</span><span class="p">(</span><span class="s1">'exist'</span><span class="p">,</span> <span class="nx">EXIST</span><span class="p">.</span><span class="nx">TRUE</span><span class="p">)</span>
    <span class="k">return</span> <span class="nx">data</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Could not find any entity for you so please create one"</span><span class="p">)</span>
    <span class="nx">commit</span><span class="p">(</span><span class="s1">'exist'</span><span class="p">,</span> <span class="nx">EXIST</span><span class="p">.</span><span class="nx">FALSE</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>
<p>TODO</p>
<h3 id='create'>create</h3><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">entityRegistry</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">EntityRegistry</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">ethereum</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">entityRegistry</span><span class="p">.</span><span class="nx">addEntity</span><span class="p">({</span>
    <span class="na">address</span><span class="p">:</span> <span class="nx">data</span><span class="p">.</span><span class="nx">address</span><span class="p">,</span>
    <span class="na">uuid</span><span class="p">:</span> <span class="nx">data</span><span class="p">.</span><span class="nx">uuid</span><span class="p">,</span>
    <span class="na">type</span><span class="p">:</span> <span class="nx">data</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
    <span class="na">name</span><span class="p">:</span> <span class="nx">data</span><span class="p">.</span><span class="nx">name</span><span class="p">,</span>
    <span class="na">country</span><span class="p">:</span> <span class="nx">data</span><span class="p">.</span><span class="nx">country</span><span class="p">,</span>
    <span class="na">city</span><span class="p">:</span> <span class="nx">data</span><span class="p">.</span><span class="nx">city</span><span class="p">,</span>
    <span class="na">postalcode</span><span class="p">:</span> <span class="nx">data</span><span class="p">.</span><span class="nx">postalcode</span><span class="p">,</span>
    <span class="na">streetAddress</span><span class="p">:</span> <span class="nx">data</span><span class="p">.</span><span class="nx">streetAddress</span>
<span class="p">})</span>
<span class="nx">await</span> <span class="nx">dispatch</span><span class="p">(</span><span class="s1">'setCurrentEntity'</span><span class="p">,</span> <span class="p">{</span> <span class="na">address</span><span class="p">:</span> <span class="nx">data</span><span class="p">.</span><span class="nx">address</span> <span class="p">})</span>
</code></pre>
<p>TODO</p>
<h3 id='getentitybyuuid'>getEntityByUuid</h3><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">entityRegistry</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">EntityRegistry</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">ethereum</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">entityRegistry</span><span class="p">.</span><span class="nx">getEntityByUuid</span><span class="p">(</span><span class="nx">uuid</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
</code></pre>
<p>TODO</p>
<h3 id='getentitybyaddress'>getEntityByAddress</h3><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">entityRegistry</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">EntityRegistry</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">ethereum</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">entityRegistry</span><span class="p">.</span><span class="nx">getEntityByAddress</span><span class="p">(</span><span class="nx">address</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
</code></pre>
<p>TODO</p>
<h3 id='gettransactions'>getTransactions</h3><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">entityRegistry</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">EntityRegistry</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">ethereum</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">entityRegistry</span><span class="p">.</span><span class="nx">allTransactionsAllCapTables</span><span class="p">(</span><span class="nx">uuid</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
</code></pre>
<p>Input person&#39;s Norwegian sosial security number (Personnummer) for the <code>uuid</code> and all of her transactions are returned.</p>
<h3 id='generateaddress'>generateAddress</h3><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">entityRegistry</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">EntityRegistry</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">ethereum</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">address</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">entityRegistry</span><span class="p">.</span><span class="nx">generateAddress</span><span class="p">();</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">address</span><span class="p">);</span>
</code></pre>
<p>TODO</p>
<h1 id='extending-the-registry-with-smart-contrats'>Extending the registry with smart contrats</h1>
<p>TODO</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
