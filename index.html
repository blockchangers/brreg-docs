
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Brreg Cap Table Developer Documentation</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#brreg-cap-table-brregcp-developer-documentation" class="toc-h1 toc-link" data-title="Brreg Cap Table (BrregCP) Developer Documentation">Brreg Cap Table (BrregCP) Developer Documentation</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#introduction" class="toc-h2 toc-link" data-title="Introduction">Introduction</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#integrate-your-application" class="toc-h1 toc-link" data-title="Integrate your application">Integrate your application</a>
          </li>
          <li>
            <a href="#main-concepts" class="toc-h1 toc-link" data-title="Main Concepts">Main Concepts</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#common-terms" class="toc-h2 toc-link" data-title="Common Terms">Common Terms</a>
                  </li>
                  <li>
                    <a href="#users" class="toc-h2 toc-link" data-title="Users">Users</a>
                  </li>
                  <li>
                    <a href="#networks-and-endpoints" class="toc-h2 toc-link" data-title="Networks and endpoints">Networks and endpoints</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#sdk" class="toc-h1 toc-link" data-title="SDK">SDK</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#getting-started" class="toc-h2 toc-link" data-title="Getting started">Getting started</a>
                  </li>
                  <li>
                    <a href="#basic-considerations" class="toc-h2 toc-link" data-title="Basic Considerations">Basic Considerations</a>
                  </li>
                  <li>
                    <a href="#accessing-the-user-39-s-wallet" class="toc-h2 toc-link" data-title="Accessing the user's wallet">Accessing the user's wallet</a>
                  </li>
                  <li>
                    <a href="#registry-of-cap-tables-api" class="toc-h2 toc-link" data-title="Registry Of Cap Tables API">Registry Of Cap Tables API</a>
                  </li>
                  <li>
                    <a href="#company-factory-api" class="toc-h2 toc-link" data-title="Company Factory API">Company Factory API</a>
                  </li>
                  <li>
                    <a href="#entity-registry-api" class="toc-h2 toc-link" data-title="Entity Registry API">Entity Registry API</a>
                  </li>
                  <li>
                    <a href="#company-api" class="toc-h2 toc-link" data-title="Company API">Company API</a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href="http://52.158.44.155:4000/" target="_blank">Block explorer</a></li>
            <li><a href="http://52.158.44.155:4000/graphiql" target="_blank">GraphiQL access</a></li>
            <li><a href="http://52.158.44.155:4000/api_docs" target="_blank">REST API</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='brreg-cap-table-brregcp-developer-documentation'>Brreg Cap Table (BrregCP) Developer Documentation</h1><h2 id='introduction'>Introduction</h2>
<p>Welcome to the &quot;Brønnøysund Business Cap Table&quot; (beta) developer documentation, BrregCP in short. </p>

<p>Norwegian limited companies must have a share capital of at least NOK 30,000 distributed among one or more shares, all of which have the same nominal value in NOK. The size of the share capital, the number of shares and the nominal value are determined in the company&#39;s articles of association when the company is formed.
All limited companies shall have a cap table unless the company&#39;s shares are registered in the public security register. The cap table shall contain an overview of who is shareholders at all times, and it will normally be decisive for who can exercise shareholder rights such as voting rights at the general meeting and the right to dividend. The cap table is public - so everyone has the right to see it.</p>
<h3 id='what-is-a-cap-table'>What is a cap table</h3>
<p>When a shareholder is entered in the shareholder&#39;s register the company shall notify the shareholder thereof. The share register shall be updated when a change of ownership or pledging of shares happens, in accordance with established rules in the Companies Act (§ 4-7).
Shares can be freely sold or given away without payment unless otherwise stated by law, articles of association or agreement between the shareholders. For sale, the price is normally calculated on the basis of market value. Sales below market value can also occur, called a gift sale. In the same way as when shares are given away, this could trigger a tax liability.
When shareholders sell or otherwise realize shares, gains will be taxable and losses deductible.
The Companies Act contains rules on the consent of acquiring shares, and rules on pre-emption rights for the other shareholders. An agreement on the transfer of shares shall be reported to the board of the limited company by the person taking over the shares. The agreement should at a minimum contain who the agreement applies to, how many shares are transferred, and at what price.
Transfers made in the Brønnøysund Register&#39;s shareholder book have been reported immediately. The new shareholder must be notified by the company that she has been included in the shareholder&#39;s register and what is listed.</p>

<aside class = "success">When this platform is out of beta, the company does not need to keep its own cap table nor report its details to the government, as everything is automated.</aside>
<h4 id='agreements-between-the-company-and-the-company-39-s-management-shareholders-or-related-parties'>Agreements between the company and the company&#39;s management, shareholders or related parties</h4>
<p>The company and the shareholders of the company can enter into agreements with each other, but there are then stricter requirements for the procedure. The starting point is that any agreement that has a value more than one-tenth of the share capital, must be approved in the general assembly. From this point of view, some exceptions are listed in the Companies Act. The rules also apply to shareholders&#39; close associates, such as close relatives.</p>
<h4 id='shareholder-agreements'>Shareholder agreements</h4>
<p>Shareholder agreements are normally entered into between shareholders of a company and regulates the relationship between them. The shareholders are not obliged to enter into such an agreement, but it may be useful. The shareholder agreement obliges the shareholders who sign the agreement. There are no requirements as to how the agreement should look or what it should contain. Examples of conditions that can be regulated in a shareholder agreement are special rules relating to ownership, demands for dividends, non-compete clauses, impartiality and requirements for work effort.</p>
<h4 id='conflict-between-shareholders'>Conflict between shareholders</h4>
<p>It is not uncommon for conflicts between shareholders to arise regarding the organization and running of a company. What the basis of the conflicts is difficult to say beforehand, but it may make sense to have a conscious relationship with this. It may make sense to</p>

<ul>
<li>Avoid being two owners who own 50% each of the shares, because this makes majority decisions difficult</li>
<li>Enter into shareholder agreements that clarify how the relationship between shareholders should be in the event of disagreement.</li>
</ul>

<p>In cases where the shareholders no longer manage to cooperate with each other, the district court may, by a lawsuit from a shareholder or from the company, decide on the redemption or release of a shareholder&#39;s shares. Such lawsuits must be regarded as last resort, and there must be weighty reasons.</p>
<h1 id='integrate-your-application'>Integrate your application</h1>
<p>A project that is looking to integrate with BrregCP has 5 different avenues to interact with the protocol implementation. The integration types are as follows:</p>

<ul>
<li><a href="#sdk">SDK</a></li>
<li>Smart Contracts</li>
<li><a href="https://docs.ethers.io/ethers.js/html/">Web3</a></li>
<li><a href="http://52.158.44.155:4000/graphiql">GraphQL</a></li>
<li><a href="http://52.158.44.155:4000/api_docs">REST</a></li>
</ul>

<p>The SDK makes it easy to make read and makes changes to company cap tables. A smart contract integration allows you to extend the register itself. For new smart contract developers we recommend this <a href="https://karl.tech/learning-solidity-part-1-deploy-a-contract/" target="_blank">Learning Solidity tutorial series by Karl Floersch</a>. The common methods existing applications use to integrate with our protocol implementation are through our SDK. Explore the SDK guides to learn more!</p>
<h1 id='main-concepts'>Main Concepts</h1><h2 id='common-terms'>Common Terms</h2>
<p>This is a list of terms you might encounter when developing on BrregCP.</p>
<h3 id='cap-table'>Cap table</h3>
<ul>
<li>The shareholder book for a company</li>
<li>This is what&#39;s called the “aksjeeierbok” in Norwegian</li>
</ul>
<h3 id='registry-of-cap-tables'>Registry of cap tables</h3>
<ul>
<li>Registry of all cap tables on the platform</li>
</ul>
<h3 id='entity-registry'>Entity registry</h3>
<ul>
<li>Information about people and companies</li>
<li>&quot;Enhetsregisteret&quot;, in Norwegian</li>
</ul>
<h3 id='board-director'>(Board) Director</h3>
<ul>
<li>The Chairman. The legal entity responsible for the cap table</li>
</ul>
<h3 id='share-class'>Share class</h3>
<ul>
<li>Share classes are called <em>partitions</em> in the SDK</li>
</ul>
<h3 id='block-explorer'>Block explorer</h3>
<ul>
<li>Service for a view into what’s happening on the blockchain</li>
<li>Link in menu to the left</li>
</ul>
<h3 id='blockchain'>Blockchain</h3>
<ul>
<li>A peer to peer ledger, like a database. Writes to the blockchain is done by the user in question directly instead of a server authenticating the user and storing the data for her. </li>
<li>BrregCP is built on Ethereum which means that the underlying technology is blockchain. </li>
<li>Any reference to blockchain, Ethereum or smart contract is a reference to this underlying technology.</li>
</ul>
<h3 id='smart-contracts'>Smart Contracts</h3>
<ul>
<li>  A piece of code (or program) that is stored on the blockchain network. Conditions of the contract are predefined by the users, if all conditions are met, certain actions are executed by the contract (program).</li>
</ul>
<h3 id='wallet'>Wallet</h3>
<ul>
<li>  The interface / client / wrapper / holder that your users use to manage their account(s) and interactions with the blockchain.</li>
<li>  Example: MetaMask.io, your Ledger Hardware Wallet, a Multisig Wallet Contract.</li>
</ul>
<h3 id='account'>Account</h3>
<ul>
<li>  A public &amp; private keypair that represents an entity on the platform.</li>
<li>  The user&#39;s stock and operations are actually stored on the blockchain, not in the wallet or account.</li>
<li>  Just like your Reddit account has a <code>username (public)</code> and <code>password (private)</code>, so does your Ethereum account.</li>
</ul>
<h3 id='address-quot-public-key-quot'>Address <em>(&quot;Public Key&quot;)</em></h3>
<ul>
<li>  You use this to reference another user or smart contract.</li>
<li>  Sometimes referred to as the &quot;public key&quot;</li>
<li>  A string made up of <code>0x</code> + <code>40 hexadecimal characters</code>.</li>
<li>  In Ethereum, the address begins with <code>0x</code>.</li>
<li>  Example: <code>0x06A85356DCb5b307096726FB86A78c59D38e08ee</code></li>
</ul>
<h3 id='public-key'>Public Key</h3>
<ul>
<li>  In cryptography, you have a keypair: the public and private key.</li>
<li>  You can derive a public key from a private key, but cannot derive a private key from a public key.</li>
<li>  (Advanced) In Ethereum, the address &quot;acts&quot; like the public key, but it&#39;s not actually the public key.</li>
<li>  (Advanced) In Ethereum, the public key is derived from the private key and is 128 hex characters. You then take the <code>&quot;SHA3&quot; (Keccak-256)</code> hash of this (64 characters), take the last 40 characters, and prefix with <code>0x</code>, give you your 42-character address.</li>
</ul>
<h3 id='private-key'>Private Key</h3>
<ul>
<li>  You use this to send stock or issue commands <strong>from</strong> an account.</li>
<li>  The secret half of your Address / public key.</li>
<li>  A string of 64 hexadecimal characters.</li>
<li>  Every string of 64 hexadecimal characters is a private key.</li>
<li>  If you hand-type a private key differently today than yesterday, you will access a different wallet. Never hand type your private key.</li>
<li>  This is the string you need to send from your account. Without it you cannot access your account. Although, you don&#39;t need to save this raw, unencrypted private key in this format. You can saving the fancy versions of it (e.g. the Keystore File / Mnemonic Phrase).</li>
<li>  Example: <code>afdfd9c3d2095ef696594f6cedcae59e72dcd697e2a7521b1578140422a4f890</code></li>
</ul>
<h3 id='mnemonic-phrase-seed-phrase-seed-words'>Mnemonic Phrase / Seed Phrase / Seed Words</h3>
<ul>
<li>  Another fancy version of your private key, that is actually used to derive multiple private keys.</li>
<li>  A (typically) 12 or 24 word phrase that allows you to access infinite number of accounts.</li>
<li>  Used by Ledger, TREZOR, MetaMask, Jaxx, and others.</li>
<li>  Originates from <a href="https://github.com/bitcoin/bips/blob/master/bip-0039.mediawiki">BIP 39 Spec</a>.</li>
<li>  The accounts you can access with this phrase are determined by the &quot;path&quot;.</li>
<li>  Example 12-words: <code>brain surround have swap horror body response double fire dumb bring hazard</code></li>
<li>  Example 24-words: <code>card enrich gesture connect kick topple fan body blind engine lemon swarm venue praise addict agent unaware equal bean sing govern income link leg</code></li>
</ul>
<h3 id='hardware-wallet'>Hardware Wallet:</h3>
<ul>
<li>  Typically, a single-purpose device that &quot;holds&quot; your private key(s), ensuring your private keys are safe.</li>
<li>  Typically, they use a 24-word phrase. This phrase you should write down (not on your computer) and store separately from your hardware wallet.</li>
<li>  If you lose your hardware wallet, you can still gain access to your accounts via the word-phrase you wrote down.</li>
<li>  Never type the word-phrase on your computer. It defeats the purpose of your hardware wallet.</li>
</ul>
<h3 id='hexadecimal'>Hexadecimal</h3>
<ul>
<li>  Used all over Ethereum for a variety of things, a hexadecimal string is comprised of the numbers <code>0 1 2 3 4 5 6 7 8 9</code> and <code>A B C D E F</code></li>
</ul>
<h3 id='seed'>Seed</h3>
<ul>
<li>  The input given to derive a private key. This should always be generated in a truly random way, not something you make up with your measly human brain.</li>
</ul>
<h3 id='encryption'>Encryption</h3>
<ul>
<li>  Encryption is the act of taking a string of letters/numbers, like your private key, and turning them into another string of letters/numbers through a method of private translation.</li>
<li>  There are various different encryption methods.</li>
<li>  Encryption offers protection against those trying to steal your information!</li>
</ul>
<h3 id='encrypted-vs-unencrypted-keys'>Encrypted vs Unencrypted Keys</h3>
<ul>
<li>  An unencrypted private key is 64 characters long, and it is used to unlock or restore wallets.</li>
<li>  An encrypted key is also 64 letters long and is a regular private key that has gone through the process of encryption, as defined above.</li>
<li>  For example, if the world ‘Apple’ was your shortened private key, then it was encrypted three letters down the alphabet, your new shortened encrypted key would be ‘Dssoh’. Since you know the way to encrypt this key, you could derive the original private key from it by reversing the method of encryption.</li>
<li>  Usually encrypted private keys are kept within the extension or device they are encrypted by, and they remain out of sight from the user. This is meant to add another layer of security to keep a user’s wallet information safe.</li>
</ul>

<p>All feedback, rewrites, clarification, typo-fixing, and requests for additions are more than welcome.</p>

<p>Thanks to <a href="https://metamask.github.io/metamask-docs/Main_Concepts/Common_Terms">MetaMask</a> for this Glossary&#39;s starting point.</p>
<h2 id='users'>Users</h2>
<p>A user is a shareholder and/or CEO and/or chairman of the board. A user is either active or passive.</p>

<p>An active user is authenticated and can write changed directly into the shareholder register, like transferring shares or changing their address.</p>

<p>A passive user is a shareholder who is not registered on the platform. A passive user cannot make changes in the shareholder register, and any transfers have to be input by the chairman of the board, on behalf of the shareholder.</p>

<aside class=“notice”>
All changes in the shareholder register have to be approved by the chairman of the board. In future versions, this approval can be granted automatically if the articles of association and shareholder agreements are automated (i.e. programmed as code).
</aside>
<h2 id='networks-and-endpoints'>Networks and endpoints</h2><h3 id='localhost'>Localhost</h3>
<p>You can run the whole blockchain locally. This part is undocumented at this stage, but <a href="https://gitlab.com/blockchangers/brreg">all of the source code is available on Gitlab</a>.</p>
<h3 id='staging'>Staging</h3>
<p>The staging blockchain is named <em>Toyen</em> and is open to everyone. This is the recommended way to get started with integration with the platform. </p>

<p>Relevant details</p>

<ul>
<li>RPC endpoint URL: <code>http://ethjygmk4-dns-reg1.northeurope.cloudapp.azure.com:8540</code></li>
<li>Websocket endpoint: <code>ws://ethjygmk4-dns-reg1-0.northeurope.cloudapp.azure.com:8547</code></li>
<li><a href="http://52.158.44.155:4000/">Block explorer</a></li>
<li><a href="https://blockchangers.gitlab.io/brreg/">Example application</a></li>
<li><a href="http://52.158.44.155:4000/graphiql">GraphQL query generator</a></li>
<li>Network ID: <code>53387025</code></li>
</ul>

<aside note="warning">Please be advised that there currently is not implemented any throttling or DDOS prevention. Please use the blockchain accordengly. </aside>
<h3 id='production'>Production</h3>
<p>The production version of the platform is not live yet. </p>
<h1 id='sdk'>SDK</h1>
<p>You can either the platform with the SDK, or you can extend the platform itself by developing and deploying smart contracts. This section is details how to use the SDK.</p>
<h2 id='getting-started'>Getting started</h2>
<blockquote>
<p>To install the SDK to your project just use NPM in your project.</p>
</blockquote>
<pre class="highlight plaintext"><code>npm install @brreg-sdk
</code></pre>
<p>To develop on BrregCP, you’re first going to want to get the SDK installed on your development machine. </p>

<p>You should also install MetaMask in Chrome as the middleware between your application the blockchain. <a href="https://metamask.io/">Download here</a>.</p>
<h3 id='example-application'>Example application</h3>
<p>It can be hard getting started. We recommend you <a href="https://gitlab.com/blockchangers/brreg/tree/master/packages/forvalter" target="_blank">take a look at the source code of our example application</a> to get a feel of the SDK. The application is written in Vue.js. A <a href="https://blockchangers.gitlab.io/brreg/" target="_blanK">live version of the example application is available on Github</a>.</p>
<h2 id='basic-considerations'>Basic Considerations</h2>
<p>As BrregCP is a service facilitated by leveraging blockchain technology, the flow of how end users interact with your service changes from the regular client-server way of interacting.</p>

<p>Instead of credentials authenticating the user and giving the user the correct access, end users are expected to use a browser with blockchain wallet functionality. This functionality is available in</p>

<ul>
<li>Google Chrome and Microsoft Edge when installing the <a href="https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn">Metamask plugin</a></li>
<li>The Opera web browser</li>
</ul>
<h3 id='web3-browser-detection'>Web3 Browser Detection</h3>
<p>The first thing your app will want to do is verify whether the user is using MetaMask or not, which is simple using a check like <code>if (typeof window.ethereum !== &#39;undefined&#39;) { /* deal with it */ }</code>.</p>
<h3 id='connecting-to-the-brregcp-network'>Connecting to the BrregCP Network</h3>
<p>In the top right menu of MetaMask, you can select the network that you are currently connected to. Among several popular defaults, you&#39;ll find <code>Custom RPC</code>. Use it and set</p>

<ul>
<li>Network Name to <code>Toyen</code> and</li>
<li>New RPC URL to <code>http://ethjygmk4-dns-reg1.northeurope.cloudapp.azure.com:8540</code></li>
</ul>

<p><img src="../images/toyenInMetamask.png" alt="" style="width:18em;" /></p>

<p>Since your seed phrase is the power to control all your accounts, it is probably worth keeping at least one seed phrase for development, separate from any that you use for storing real value. One easy way to manage multiple seed phrases with MetaMask is with multiple browser profiles, each of which can have its own clean extension installations.</p>

<aside class="note">Note that users of you application will also have to manually connect Metamask to the Toyen network as long as BrregCP is in active development and in beta.</aside>
<h3 id='user-state'>User State</h3>
<p>Currently there are a few stateful things you want to consider when interacting with Metamask:</p>
<pre class="highlight javascript tab-javascript"><code><span class="nx">ethereum</span><span class="p">.</span><span class="nx">networkVersion</span>
<span class="nx">ethereum</span><span class="p">.</span><span class="nx">selectedAddress</span>
</code></pre>
<blockquote>
<p>Both of these are available synchronously. The networkVersion for BrregCP is <code>53387025</code>.</p>
</blockquote>

<ul>
<li>What is the current network?</li>
<li>What is the current account?</li>
</ul>

<aside class="note">If the networkVersion is not 53387025, the user is not connected to the BrregCP. Guide the user to correcting this. See the "Connecting to the BrregCP Network" chapter above.</aside>
<h3 id='logging-in'>Logging In</h3>
<blockquote>
<p>When you&#39;re ready to request the user logs in, you can call this simple method.</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="nx">ethereum</span><span class="p">.</span><span class="nx">enable</span><span class="p">();</span>
</code></pre>
<blockquote>
<p>Since it returns a promise, if you&#39;re in an <code>async</code> function, you may log in like this.</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">accounts</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">ethereum</span><span class="p">.</span><span class="nx">enable</span><span class="p">()</span>
<span class="kr">const</span> <span class="nx">account</span> <span class="o">=</span> <span class="nx">accounts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c1">// We currently only ever provide a single account,</span>
                            <span class="c1">// but the array gives us some room to grow.</span>
</code></pre>
<p>This promise-returning function resolves with an array of hex-prefixed ethereum addresses, which can be used as general account references when sending transactions.</p>

<p>Over time, this method is intended to grow to include various additional parameters to help your site request all the setup it needs from the user during setup.</p>
<h2 id='accessing-the-user-39-s-wallet'>Accessing the user&#39;s wallet</h2>
<blockquote>
<p>To access the user&#39;s wallet, use this code:</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">ethereum</span>
<span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nb">window</span><span class="p">.</span><span class="nx">ethereum</span> <span class="o">!==</span> <span class="s1">'undefined'</span> <span class="o">||</span> <span class="p">(</span><span class="k">typeof</span> <span class="nb">window</span><span class="p">.</span><span class="nx">web3</span> <span class="o">!==</span> <span class="s1">'undefined'</span><span class="p">))</span> <span class="p">{</span>
    <span class="nx">ethereum</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">ethereum</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<p>The first line of code includes the SDK. This needs to be installed before you can use it. See <a href="#getting-started">Getting started</a>. </p>

<p>In a regular client-server architecture, the user&#39;s browser works as a thin client, where the business logic is running on the server. In an application utilizing blockchain, the business logic is run in the user&#39;s browser and she connects directly to the backend/blockchain. For this to work, you need to use her access keys for every write operation. </p>

<aside class="warning">
This code snippet is essential for using any of the following methods from the SDK.
</aside>

<p>MetaMask injects a global API into websites visited by its users at <code>window.ethereum</code> (Also available at <code>window.web3.currentProvider</code> for legacy reasons). This API allows websites to request user login, load data from blockchains the user has a connection to, and suggest the user sign messages and transactions. You can use this API to detect the user of a web3 browser.</p>

<p>If you want to deep dive into the Metmask API and their best practieces, check our the <a href="https://metamask.github.io/metamask-docs/API_Reference/Ethereum_Provider">Metamask documentation</a>.</p>
<h2 id='registry-of-cap-tables-api'>Registry Of Cap Tables API</h2>
<p>While most functions are spesific to a given company, the functions in this chapter are platform wide.</p>
<h3 id='init-externalsignerprovider-signer-any-proxyaddress-string'>init(externalSignerProvider: Signer | any, proxyAddress?: string)</h3>
<blockquote>
<p>The Class always has to be initalized before using</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">RegistryOfCapTables</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"@brreg/sdk"</span><span class="p">).</span><span class="nx">RegistryOfCapTables</span>
<span class="kr">const</span> <span class="nx">RegistryOfCapTablesContract</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">RegistryOfCapTables</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">ethereum</span><span class="p">);</span>
</code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>externalSignerProvider</td>
<td>undefined</td>
<td>Should be set to the user&#39;s wallet i.e. <code>ethereum</code> from the section <a href="#accessing-the-user-39-s-wallet">Accessing the user&#39;s wallet</a> from above.</td>
</tr>
<tr>
<td>proxyAddress</td>
<td>optional</td>
<td>If you want to point the SDK at another blockchain than the <a href="#networks-and-endpoints">Stagning server</a></td>
</tr>
</tbody></table>
<h3 id='list'>list()</h3><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">list</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">RegistryOfCapTablesContract</span><span class="p">.</span><span class="nx">list</span><span class="p">();</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">list</span><span class="p">);</span>
</code></pre>
<p>List all companies on the platform</p>

<p>Only already onboarded companies are on the platform. Use this code to list them all. Remember to getting the <code>ethereum</code> variable. See <a href="#accessing-the-user-39-s-wallet">Accessing the user&#39;s wallet</a></p>
<h2 id='company-factory-api'>Company Factory API</h2>
<p>Used to onboard new company.</p>
<h3 id='init-externalsignerprovider-signer-any-proxyaddress-string-2'>init(externalSignerProvider: Signer | any, proxyAddress?: string)</h3>
<blockquote>
<p>The Class always has to be initalized before using</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">CompanyFactoryClass</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"@brreg/sdk"</span><span class="p">).</span><span class="nx">StockFactory</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">companyFactory</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">CompanyFactoryClass</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">ethereum</span><span class="p">);</span>
</code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>externalSignerProvider</td>
<td>undefined</td>
<td>Should be set to the user&#39;s wallet i.e. <code>ethereum</code> from the section <a href="#accessing-the-user-39-s-wallet">Accessing the user&#39;s wallet</a> from above.</td>
</tr>
<tr>
<td>proxyAddress</td>
<td>optional</td>
<td>If you want to point the SDK at another blockchain than the <a href="#networks-and-endpoints">Stagning server</a></td>
</tr>
</tbody></table>
<h3 id='createnew-name-string-uuid-string-options-partitions-string-symbol-string'>createNew(name: string, uuid: string, options: { partitions: string[], symbol: string })</h3><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">tx</span> <span class="o">=</span> <span class="nx">companyFactory</span><span class="p">.</span><span class="nx">createNew</span><span class="p">(</span><span class="s2">"Blockchangers AS"</span><span class="p">,</span> <span class="s2">"915772137"</span><span class="p">);</span>
<span class="nx">await</span> <span class="nx">tx</span><span class="p">.</span><span class="nx">wait</span><span class="p">();</span>
</code></pre>
<blockquote>
<p>Note that you need to wait for the transaction to go through before continuing. This can take up to 5 seconds</p>
</blockquote>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>undefined</td>
<td>Business name</td>
</tr>
<tr>
<td>uuid</td>
<td>undefined</td>
<td>Organization number, note that it&#39;s a string</td>
</tr>
<tr>
<td>options</td>
<td>optional</td>
<td>Object with the following possible options</td>
</tr>
<tr>
<td>partitions</td>
<td>DEFAULT_PARTITION</td>
<td>Array of addresses of share classes, see XX for more on share classes TODO Robin</td>
</tr>
<tr>
<td>symbol</td>
<td>&quot;&quot;</td>
<td>Shorthand for the company</td>
</tr>
</tbody></table>
<h3 id='addstockque-address-string'>addStockQue(address: string)</h3>
<p>Add the given company ethereum address the queue for verification by the Business Registry. The company will not show up for users and for other developers before the company&#39;s information is verified.</p>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// Create company</span>
<span class="kd">let</span> <span class="nx">companyAddress</span> <span class="o">=</span> <span class="nx">companyFactory</span><span class="p">.</span><span class="nx">createNew</span><span class="p">(</span><span class="s2">"Blockchangers AS"</span><span class="p">,</span> <span class="s2">"915772137"</span><span class="p">);</span>
<span class="nx">await</span> <span class="nx">companyAddress</span><span class="p">.</span><span class="nx">wait</span><span class="p">();</span>

<span class="c1">// Here you should fill the entity/company with data using addEntity</span>
<span class="kd">let</span> <span class="nx">tx</span> <span class="o">=</span> <span class="nx">companyFactory</span><span class="p">.</span><span class="nx">addStockQue</span><span class="p">(</span><span class="nx">companyAddress</span><span class="p">);</span>
<span class="nx">await</span> <span class="nx">tx</span><span class="p">.</span><span class="nx">wait</span><span class="p">();</span>
</code></pre><h3 id='qued'>qued</h3>
<p>TODO ROBIN</p>
<h2 id='entity-registry-api'>Entity Registry API</h2><h3 id='init-externalsignerprovider-signer-any-proxyaddress-string-3'>init(externalSignerProvider: Signer | any, proxyAddress?: string)</h3><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">EntityRegistryClass</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"@brreg/sdk"</span><span class="p">).</span><span class="nx">EntityRegistry</span>
<span class="kr">const</span> <span class="nx">entityRegistry</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">EntityRegistryClass</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">ethereum</span><span class="p">);</span>
</code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>externalSignerProvider</td>
<td>undefined</td>
<td>Should be set to the user&#39;s wallet i.e. <code>ethereum</code> from the section <a href="#accessing-the-user-39-s-wallet">Accessing the user&#39;s wallet</a> from above.</td>
</tr>
<tr>
<td>proxyAddress</td>
<td>optional</td>
<td>If you want to point the SDK at another blockchain than the <a href="#networks-and-endpoints">Stagning server</a></td>
</tr>
</tbody></table>
<h3 id='generateaddress'>generateAddress()</h3><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">arbitraryAddress</span> <span class="o">=</span> <span class="nx">entityRegistry</span><span class="p">.</span><span class="nx">generateAddress</span><span class="p">();</span>
</code></pre>
<p>Many companies will have stockholders who are not on the BrregCP platform. Hence the shares can not be sent to the user. Technically these shares still needs to be generated on the blockchain, and put in it&#39;s own enclave. This method generates an arbitrary address to achieve this. Generate one one address for every user who does not have one herself, i.e. is not a registerted user on BrregCP.</p>
<h3 id='alltransactionsallcaptables-uuid-string'>allTransactionsAllCapTables(uuid: string)</h3><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">captable</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">entityRegistry</span><span class="p">.</span><span class="nx">allTransactionsAllCapTables</span><span class="p">(</span><span class="s2">"24078612345"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">captable</span><span class="p">);</span>
</code></pre>
<p>Returns all transactions done for the given person. This function can be used for most views, analytics and statistics that you want to present the user with. Get all the data with this function, then filter and customize the returned data, before presenting it to the user.</p>
<h3 id='getentitybyuuid-uuid-string'>getEntityByUuid(uuid: string)</h3><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">entityData</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">entityRegistry</span><span class="p">.</span><span class="nx">getEntityByUuid</span><span class="p">(</span><span class="s2">"915772137"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">entityData</span><span class="p">);</span>
</code></pre>
<p>Get data about the given entity. </p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>undefined</td>
<td>The personal identification number of a person, or a organization number of a company.</td>
</tr>
</tbody></table>
<h3 id='getentitybyaddress-address-string'>getEntityByAddress(address: string)</h3><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">entityData</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">entityRegistry</span><span class="p">.</span><span class="nx">getEntityByAddress</span><span class="p">(</span><span class="s2">"0x2358cEE56BEf4Ac13d65e9F96677f6E40b0abC3E"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">entityData</span><span class="p">);</span>
</code></pre><h3 id='addentity-data-entitydata'>addEntity(data: EntityData)</h3><pre class="highlight javascript tab-javascript"><code>     <span class="kd">let</span> <span class="nx">companyFactory</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">StockFactory</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">ethereum</span><span class="p">);</span>
     <span class="kd">let</span> <span class="nx">blockchangersAddress</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">companyFactory</span><span class="p">.</span><span class="nx">createNew</span><span class="p">(</span><span class="s2">"Blockchangers AS"</span><span class="p">,</span> <span class="s2">"915772137"</span><span class="p">)</span>

<span class="kr">const</span> <span class="nx">entityRegistry</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">EntityRegistry</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">ethereum</span><span class="p">)</span>
<span class="kd">let</span> <span class="nx">tx</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">entityRegistry</span><span class="p">.</span><span class="nx">addEntity</span><span class="p">({</span>
    <span class="na">address</span><span class="p">:</span> <span class="nx">blockchangersAddress</span><span class="p">,</span>
    <span class="na">uuid</span><span class="p">:</span> <span class="s2">"915772137"</span><span class="p">,</span>
    <span class="na">type</span><span class="p">:</span> <span class="p">,</span> <span class="c1">//TODO Robin</span>
    <span class="na">name</span><span class="p">:</span> <span class="p">,</span> <span class="c1">// TODO Robin. Hva er forskjellen på Name her og companyFactory name?</span>
    <span class="na">country</span><span class="p">:</span> <span class="s2">"Norway"</span><span class="p">,</span>
    <span class="na">city</span><span class="p">:</span> <span class="s2">"Oslo"</span><span class="p">,</span>
    <span class="na">postalcode</span><span class="p">:</span> <span class="s2">"0179"</span><span class="p">,</span>
    <span class="na">streetAddress</span><span class="p">:</span> <span class="s2">"Møllergata 6"</span>
<span class="p">});</span>
<span class="nx">await</span> <span class="nx">tx</span><span class="p">.</span><span class="nx">wait</span><span class="p">();</span>
</code></pre>
<blockquote>
<p>Note that you need to wait for the transaction to go through before continuing. This can take up to 5 seconds</p>
</blockquote>

<p>Note that only you can see and operate on the object. For security reasons the data supplied by you, needs to be validated by the Business Registry before it is displayed to users and other developers. You get the company validated by adding it to the validation queue. </p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>EntityData</td>
<td>undefined</td>
<td>The EntityData object is described with the following parameters</td>
</tr>
<tr>
<td>address</td>
<td>undefined</td>
<td>The blockchain address for the given company og person</td>
</tr>
<tr>
<td>uuid</td>
<td>undefined</td>
<td>String. The organizational number of a company or the identification number of a person</td>
</tr>
</tbody></table>

<p>type etc TODO Robin</p>
<h3 id='updateentity-data-entitydata'>updateEntity(data: EntityData)</h3>
<p>TODO jon</p>
<h2 id='company-api'>Company API</h2><h3 id='init-externalsignerprovider-signer-any-address-string-proxyaddress-string'>init(externalSignerProvider: Signer | any, address: string, proxyAddress?: string)</h3>
<blockquote>
<p>The Class always has to be initalized before using</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">CompanyClass</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"@brreg/sdk"</span><span class="p">).</span><span class="nx">Stock</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">company</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">CompanyClass</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">ethereum</span><span class="p">,</span> <span class="s2">"0x2358cEE56BEf4Ac13d65e9F96677f6E40b0abC3E"</span><span class="p">);</span>
</code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>externalSignerProvider</td>
<td>undefined</td>
<td>Should be set to the user&#39;s wallet i.e. <code>ethereum</code> from the section <a href="#accessing-the-user-39-s-wallet">Accessing the user&#39;s wallet</a> from above.</td>
</tr>
<tr>
<td>address</td>
<td>undefined</td>
<td>The ethereum address of the company.</td>
</tr>
<tr>
<td>proxyAddress</td>
<td>optional</td>
<td>If you want to point the SDK at another blockchain than the <a href="#networks-and-endpoints">Stagning server</a></td>
</tr>
</tbody></table>
<h3 id='address'>address()</h3>
<p>Returns the address of the company</p>
<h3 id='balanceof-address-string'>balanceOf(address: string)</h3><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">CompanyClass</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"@brreg/sdk"</span><span class="p">).</span><span class="nx">Stock</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">company</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">CompanyClass</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">ethereum</span><span class="p">,</span> <span class="s2">"0x2358cEE56BEf4Ac13d65e9F96677f6E40b0abC3E"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">usersAmountOfShares</span> <span class="o">=</span> <span class="nx">company</span><span class="p">.</span><span class="nx">balanceOf</span><span class="p">(</span><span class="s2">"0xab5801a7d398351b8be11c439e05c5b3259aec9b"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">usersAmountOfShares</span><span class="p">);</span>
</code></pre>
<p>Returns the number of shares for the given ethereum address, be it a person, company or smart contract.</p>
<h3 id='balanceofbypartition-partition-string-address-string'>balanceOfByPartition(partition: string, address: string)</h3>
<p>Returns the number of shares of the given share class for the given ethereum address.</p>
<h3 id='denominationpershare'>denominationPerShare()</h3>
<p>Returns the denomination of a share i.e., &quot;Pålydende&quot; in Norwegian.</p>
<h3 id='director'>director()</h3>
<p>Returns the board director of the company.</p>
<h3 id='functions'>functions()</h3>
<p>TODO Robin</p>
<h3 id='getdefaultpartitions-asbytes-false'>getDefaultPartitions(asBytes = false)</h3>
<p>TODO Robin</p>
<h3 id='getlogs-types-string-39-transfer-39-39-issue-39-39-redeem-39'>getLogs(types: string[] = [&#39;transfer&#39;, &#39;issue&#39;, &#39;redeem&#39;])</h3>
<p>Returns all actions, including transactions, relating to the company. The query can be narrowed in with the parameter.</p>
<h3 id='totalsupply'>totalSupply()</h3><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">CompanyClass</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"@brreg/sdk"</span><span class="p">).</span><span class="nx">Stock</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">company</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">CompanyClass</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">ethereum</span><span class="p">,</span> <span class="s2">"0x2358cEE56BEf4Ac13d65e9F96677f6E40b0abC3E"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">totalAmountOfSharesInTheCompany</span> <span class="o">=</span> <span class="nx">company</span><span class="p">.</span><span class="nx">totalSupply</span><span class="p">();</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">totalAmountOfSharesInTheCompany</span><span class="p">);</span>
</code></pre>
<p>Returns the total number of shares.</p>
<h3 id='gettotalsupplybypartition-partition-string'>getTotalSupplyByPartition(partition: string)</h3>
<p>Returns the number of shares in the given share class.</p>
<h3 id='gettransactionsfromlogs-logs-logandmeta-filter-address-string'>getTransactionsFromLogs(logs: LogAndMeta[], filter?: { address?: string })</h3>
<p>Returns all transacions relating to the company.</p>
<h3 id='granularity'>granularity()</h3>
<p>TODO Robin. Skal denne alltid være 0 for aksjeselskaper? I så fall kan den fjernes</p>
<h3 id='info'>info()</h3>
<p>TODO Robin</p>
<h3 id='iscontroller-address-string'>isController(address: string)</h3>
<p>Returns true if the given address is a controller of the company. An address can be a person or or a smart contract.</p>

<p>// TODO Robin: hva er en controller?</p>
<h3 id='issue-touuid-string-numberofsharestotransfer-number-options-data-string-partition-string'>issue(toUuid: string, numberOfSharesToTransfer: number, options?: { data?: string, partition?: string })</h3><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">CompanyClass</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"@brreg/sdk"</span><span class="p">).</span><span class="nx">Stock</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">company</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">CompanyClass</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">ethereum</span><span class="p">,</span> <span class="s2">"0x2358cEE56BEf4Ac13d65e9F96677f6E40b0abC3E"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">tx</span> <span class="o">=</span> <span class="nx">company</span><span class="p">.</span><span class="nx">issue</span><span class="p">(</span><span class="s2">"24078612345"</span><span class="p">,</span> <span class="mi">1000</span><span class="p">);</span>
<span class="nx">await</span> <span class="nx">tx</span><span class="p">.</span><span class="nx">wait</span><span class="p">();</span>
</code></pre>
<p>Issue new shares to the given entity.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>toUuid</td>
<td>undefined</td>
<td>The personal identification number of a person, or a organization number of a company.</td>
</tr>
<tr>
<td>numberOfSharesToTransfer</td>
<td>undefined</td>
<td>Amount</td>
</tr>
<tr>
<td>options</td>
<td>optional</td>
<td>A object detailed with the following parameters.</td>
</tr>
<tr>
<td>data</td>
<td>optional</td>
<td>TODO Robin</td>
</tr>
<tr>
<td>partition</td>
<td>optional</td>
<td>The class of the shares to issue.</td>
</tr>
</tbody></table>
<h3 id='name'>name()</h3>
<p>Returns the name of the company.</p>
<h3 id='operatorredeem-fromuuid-string-numberofsharestoredeem-number-options-partition-string-data-string-operatordata-string'>operatorRedeem(fromUuid: string, numberOfSharesToRedeem: number, options?: { partition?: string, data?: string, operatorData?: string })</h3>
<p>// TODO Robin. Er operator Brreg, og dette skal kun gjøres av dem? I så fall kan fjernes fra dokumentasjonen</p>
<h3 id='operatortransfer-fromuuid-string-touuid-string-numberofsharestotransfer-number-options-partition-string-data-string-operatordata-string'>operatorTransfer(fromUuid: string, toUuid: string, numberOfSharesToTransfer: number, options?: { partition?: string, data?: string, operatorData?: string })</h3>
<p>// TODO Robin. Er operator Brreg, og dette skal kun gjøres av dem? I så fall kan fjernes fra dokumentasjonen</p>
<h3 id='partitionsof-address-string-asbytes-false'>partitionsOf(address: string, asBytes = false)</h3>
<p>// TODO Robin</p>
<h3 id='redeem-numberofsharestoredeem-number-options-partition-string-data-string'>redeem(numberOfSharesToRedeem: number, options?: { partition?: string, data?: string })</h3>
<p>// TODO Robin</p>
<h3 id='setdenomination-newdenomination-number'>setDenomination(newDenomination: number)</h3>
<p>Updates the denomination. This supplied number should not be the denomination per share, but the total denomination: denomination * number of shares e.g. NOK 2 * 30000 shares = denomination 60000.</p>
<h3 id='getshareholdersfromlogs-logs-logdescription'>getShareholdersFromLogs(logs: LogDescription[])</h3>
<p>Return the shareholders of the company.</p>
<h3 id='shareholders'>shareholders()</h3>
<p>Returns all shareholders. 
// TODO Robin Hva er forskjellen på denne og getShareholdersFromLogs?</p>
<h3 id='transactions-filter-address-string'>transactions(filter?: { address?: string })</h3>
<p>Returns all transactions</p>
<h3 id='transfer-touuid-string-numberofsharestotransfer-number-options-partition-string-data-string'>transfer(toUuid: string, numberOfSharesToTransfer: number, options?: { partition?: string, data?: string })</h3><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">CompanyClass</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"@brreg/sdk"</span><span class="p">).</span><span class="nx">Stock</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">company</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">CompanyClass</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">ethereum</span><span class="p">,</span> <span class="s2">"0x2358cEE56BEf4Ac13d65e9F96677f6E40b0abC3E"</span><span class="p">);</span>
<span class="nx">company</span><span class="p">.</span><span class="nx">transfer</span><span class="p">(</span><span class="s2">"24078612345"</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
<span class="nx">await</span> <span class="nx">tx</span><span class="p">.</span><span class="nx">wait</span><span class="p">();</span>
</code></pre>
<blockquote>
<p>Note that you need to wait for the transaction to go through before continuing. This can take up to 5 seconds</p>
</blockquote>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>toUuid</td>
<td>undefined</td>
<td>The personal identification number of a person, or a organization number of a company.</td>
</tr>
<tr>
<td>numberOfSharesToTransfer</td>
<td>undefined</td>
<td>Amount</td>
</tr>
<tr>
<td>options</td>
<td>optional</td>
<td>A object detailed with the following parameters.</td>
</tr>
<tr>
<td>data</td>
<td>optional</td>
<td>TODO Robin</td>
</tr>
<tr>
<td>partition</td>
<td>optional</td>
<td>The class of the shares to issue.</td>
</tr>
</tbody></table>

<p>Function for moving shares from one person or company, another. Note that you as a developer do not input who the shares comes from. When the user initiates the transfer from your service, the transaction is signed and sent from them. Hence the shares are sent from her. </p>

<aside class="notice">Shares are transfered from the user initiating this function.</aside>
<h3 id='transferdirector-address-string'>transferDirector(address: string)</h3>
<p>Change the board director of the company.</p>
<h3 id='uuid'>uuid()</h3>
<p>Returns the organizational number of the company.</p>
<h3 id='todo-robin-er-det-ingen-transferfrom-og-approve-som-smartkontrakter-kan-bruke-til-a-flytte-aksjer'>TODO Robin, er det ingen transferFrom og Approve som smartkontrakter kan bruke til å flytte aksjer?</h3>
      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
